(this.webpackJsonpkartonki=this.webpackJsonpkartonki||[]).push([[0],{20:function(e,t,r){e.exports={App:"App_App__2c1zV"}},37:function(e,t,r){e.exports={headerWrapper:"header_headerWrapper__3HIZZ"}},38:function(e,t,r){},39:function(e,t,r){e.exports={inputWrapper:"Input_inputWrapper__1U0Om"}},40:function(e,t,r){e.exports={buttonWrapper:"Button_buttonWrapper__2hZNV"}},42:function(e,t,r){},43:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){e.exports=r(75)},51:function(e,t,r){},75:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(17),c=r.n(s),u=(r(51),r(20)),o=r.n(u),i=r(3),l=r(15),p=r(2),m=r.n(p),d=r(5),f=r(9),g="registr_reducer/REGISTRATE_ERROR",E="auth_reducer/LOGIN_ERROR",v="auth_reducer/LOGIN_SUCCESS",b=r(35),h=r.n(b).a.create({baseURL:"https://neko-cafe-back.herokuapp.com/auth/"}),w=function(){var e=Object(d.a)(m.a.mark((function e(t,r,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/login",{email:t,password:r,rememberMe:n});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(m.a.mark((function e(t,r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/register",{email:t,password:r});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/forgot",{email:t});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(m.a.mark((function e(t,r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post("/set-new-password",{password:t,resetPasswordToken:r});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),j={authSuccess:!1,myName:"",errorMessage:"",token:""},R=function(e){return{type:E,errorMessage:e}},k=function(e,t,r){return function(){var n=Object(d.a)(m.a.mark((function n(a){var s;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w(e,t,r);case 3:(s=n.sent).error?a(R(s.error)):a((c=s.success,u=s.name,o=s.token,{type:v,loginSuccess:c,myName:u,token:o})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a(R(n.t0.response.data.error));case 10:case"end":return n.stop()}var c,u,o}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(f.a)({},e,{authSuccess:t.loginSuccess,myName:t.myName,token:t.token});case E:return Object(f.a)({},e,{errorMessage:t.errorMessage});default:return e}},C=r(36),_={success:!1,message:""},N=function(e){return{type:"NEW_PASSWORD_SUCCESS",recoverSuccess:e}},x=function(e){return{type:"NEW_PASSWORD_ERROR",errorMessage:e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_PASSWORD_SUCCESS":return Object(f.a)({},e,{success:t.recoverSuccess,message:"Successful!"});case"NEW_PASSWORD_ERROR":return Object(f.a)({},e,{message:t.errorMessage});default:return e}},M={},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FIRST_ACTION":case"SECOND_ACTION":default:return e}},A={success:!1,message:""},D=function(e){return{type:"PASSWORD_RECOVER_SUCCESS",recoverSuccess:e}},I=function(e){return{type:"PASSWORD_RECOVER_ERROR",errorMessage:e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PASSWORD_RECOVER_SUCCESS":return Object(f.a)({},e,{success:t.recoverSuccess,message:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e! \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0439 email."});case"PASSWORD_RECOVER_ERROR":return Object(f.a)({},e,{message:t.errorMessage});default:return e}},F={message:"",registeredSuccess:!1},L=function(e){return{type:g,errorMessage:e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"registr_reducer/REGISTRATE_SUCCESS":return Object(f.a)({},e,{message:"successich",registeredSuccess:t.registeredSuccess});case g:return Object(f.a)({},e,{message:t.errorMessage});default:return e}},V=Object(l.c)({auth:y,newPass:W,profile:T,recoverPass:U,registr:G}),z=Object(l.d)(V,Object(l.a)(C.a)),B=r(11),Z=r(37),J=r.n(Z),H=r(13),Y=r(4),$=r(38),q=r.n($),K=r(39),Q=r.n(K),X=function(e){var t=e.inputPlaceholder,r=e.value,n=e.checked,s=e.inputType,c=e.inputOnChange,u=e.inputOnChangeChecked;return a.a.createElement("div",{className:Q.a.inputWrapper},a.a.createElement("input",{onChange:function(e){c?c(e.currentTarget.value):u&&u(e.currentTarget.checked)},placeholder:t,value:r,checked:n,type:s}))},ee=r(40),te=r.n(ee),re=function(e){var t=e.buttonOnClick,r=e.buttonName;return a.a.createElement("div",{className:te.a.buttonWrapper},a.a.createElement("button",{onClick:t},r||"submit"))},ne=function(e){var t=e.login,r=e.password,n=e.setPassword,s=e.setLogin,c=e.setRememberMe,u=e.signIn,o=e.rememberMe,i=e.loginError;return a.a.createElement("div",{className:q.a.loginizationWrapper},a.a.createElement("h2",null,"Loginization Page"),a.a.createElement("div",null,a.a.createElement(X,{inputOnChange:s,inputType:"text",value:t,inputPlaceholder:"login or email"})),a.a.createElement("div",null,a.a.createElement(X,{inputType:"password",value:r,inputOnChange:n,inputPlaceholder:"your password"})),a.a.createElement("div",null,a.a.createElement(X,{inputType:"checkbox",checked:o,inputOnChangeChecked:c})),a.a.createElement("div",null,a.a.createElement(re,{buttonName:"Sign In",buttonOnClick:u})),i?a.a.createElement("span",null,"loginError"):null)},ae=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth.authSuccess})),r=Object(i.c)((function(e){return e.auth.errorMessage})),s=Object(n.useState)(""),c=Object(Y.a)(s,2),u=c[0],o=c[1],l=Object(n.useState)(""),p=Object(Y.a)(l,2),f=p[0],g=p[1],E=Object(n.useState)(!1),v=Object(Y.a)(E,2),b=v[0],h=v[1],w=function(){var t=Object(d.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(k(u,f,b));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,t?a.a.createElement(H.a,{to:Re}):a.a.createElement(ne,{setLogin:o,setPassword:g,setRememberMe:h,loginError:r,login:u,password:f,rememberMe:b,signIn:w}))},se=function(){return a.a.createElement(ae,null)},ce=r(42),ue=r.n(ce),oe=function(){return a.a.createElement("div",{className:ue.a.profileWrappe},a.a.createElement("h2",null,"Profile Page"))},ie=r(43),le=r.n(ie),pe=function(e){var t=e.login,r=e.password,n=e.repeatingPassword,s=e.setPassword,c=e.setLogin,u=e.setRepeatingPassword,o=e.registerMe,i=e.similar,l=e.wrongRepeatingPassword,p=e.messageFromServer;return a.a.createElement("div",{className:le.a.registrationWrapper},a.a.createElement("h2",null,"Registration Page"),a.a.createElement("div",null,a.a.createElement(X,{inputOnChange:c,inputType:"text",value:t,inputPlaceholder:"login or email"})),a.a.createElement("div",null,a.a.createElement(X,{inputType:"password",value:r,inputOnChange:s,inputPlaceholder:"your password"})),a.a.createElement("div",null,a.a.createElement(X,{inputType:"password",value:n,inputOnChange:u,inputPlaceholder:"repeat your password"}),!i&&a.a.createElement("span",null,"password does not match!")),a.a.createElement("div",null,a.a.createElement(re,{buttonOnClick:i?o:l,buttonName:"Sign Up"}),a.a.createElement("span",null,p)))},me=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.registr.registeredSuccess})),r=Object(i.c)((function(e){return e.registr.message})),s=Object(n.useState)(""),c=Object(Y.a)(s,2),u=c[0],o=c[1],l=Object(n.useState)(""),p=Object(Y.a)(l,2),f=p[0],g=p[1],E=Object(n.useState)(""),v=Object(Y.a)(E,2),b=v[0],h=v[1],w=Object(n.useState)(!1),S=Object(Y.a)(w,2),P=S[0],j=S[1];Object(n.useEffect)((function(){j(!(b!==f||!b))}),[b||f]);return a.a.createElement(a.a.Fragment,null,t?a.a.createElement(H.a,{to:je}):a.a.createElement(pe,{setLogin:o,setPassword:g,login:u,password:f,repeatingPassword:b,setRepeatingPassword:h,similar:P,registerMe:function(){e(function(e,t){return function(){var r=Object(d.a)(m.a.mark((function r(n){var a;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,O(e,t);case 3:(a=r.sent).error?n(L(a.error)):n({type:"registr_reducer/REGISTRATE_SUCCESS",registeredSuccess:a.success}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),n(L(r.t0.response.data.error));case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}(u,f))},messageFromServer:r,wrongRepeatingPassword:function(){e(L("wrong credentials"))}}))},de=function(){return a.a.createElement(me,null)},fe=r(44),ge=r.n(fe),Ee=function(e){return console.log(e.similar),a.a.createElement("div",{className:ge.a.newPasswordWrapper},a.a.createElement("h2",null,"New Password Page"),a.a.createElement("div",null,a.a.createElement(X,{inputType:"password",value:e.newPassword,inputOnChange:e.setNewPassword,inputPlaceholder:"New password"})),a.a.createElement("div",null,a.a.createElement(X,{inputType:"password",value:e.newPasswordRepeat,inputOnChange:e.setNewPasswordRepeat,inputPlaceholder:"Repeat new password"})),a.a.createElement("div",null,a.a.createElement("span",null,e.differentPassword),a.a.createElement(re,{buttonName:"set new password",buttonOnClick:e.getDataFromServer}),a.a.createElement("span",null,e.responseStatusMessage)))},ve=function(){var e=Object(n.useState)(""),t=Object(Y.a)(e,2),r=t[0],s=t[1],c=Object(n.useState)(""),u=Object(Y.a)(c,2),o=u[0],l=u[1],p=Object(i.c)((function(e){return e.newPass.success})),f=Object(i.c)((function(e){return e.newPass.message})),g=Object(n.useState)(""),E=Object(Y.a)(g,2),v=E[0],b=E[1],h=Object(i.b)(),w=Object(i.c)((function(e){return e.auth.token})),O=Object(n.useState)(!1),S=Object(Y.a)(O,2),j=S[0],R=S[1];Object(n.useEffect)((function(){R(r===o)}),[r||o]);return a.a.createElement(Ee,{newPassword:r,setNewPassword:s,newPasswordRepeat:o,setNewPasswordRepeat:l,responseStatus:p,responseStatusMessage:f,getDataFromServer:function(){r===o?(R(!0),h(function(e,t){return function(){var r=Object(d.a)(m.a.mark((function r(n){var a;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P(e,t);case 3:(a=r.sent).error?n(x(a.error)):n(N(a.success)),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),n(x(r.t0.response.data.error)),console.log(r.t0.response.data.error);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}(r,w)),b("Successful!")):(R(!1),b("Enter similar pass"))},similar:j,differentPassword:v})},be=function(){return a.a.createElement(ve,null)},he=r(45),we=r.n(he),Oe=function(e){return a.a.createElement("div",{className:we.a.pswdRecoverWrapper},a.a.createElement("h2",null,"Password Recovering Page"),a.a.createElement("div",null,a.a.createElement(X,{inputType:"email",value:e.userEmail,inputOnChange:e.putUserEmail}),a.a.createElement("span",null," ",e.responseStatusMessage," ")),a.a.createElement("div",null,a.a.createElement(re,{buttonName:"Recover",buttonOnClick:e.getDataFromServer})))},Se=function(e){var t=Object(n.useState)("email"),r=Object(Y.a)(t,2),s=r[0],c=r[1],u=Object(i.c)((function(e){return e.recoverPass.success})),o=Object(i.c)((function(e){return e.recoverPass.message})),l=Object(i.b)();return a.a.createElement(Oe,{userEmail:s,putUserEmail:c,responseStatus:u,getDataFromServer:function(){var e;l((e=s,function(){var t=Object(d.a)(m.a.mark((function t(r){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S(e);case 3:(n=t.sent).error?r(I(n.error)):r(D(n.success)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),r(I(t.t0.response.data.error)),console.log(t.t0.response.data.error);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))},responseStatusMessage:o})},Pe=function(){return a.a.createElement(Se,null)},je="/auth",Re="/profile",ke=function(){return a.a.createElement(H.d,null,a.a.createElement(H.b,{path:je,render:function(){return a.a.createElement(se,null)}}),a.a.createElement(H.b,{path:"/new-password",render:function(){return a.a.createElement(be,null)}}),a.a.createElement(H.b,{path:Re,render:function(){return a.a.createElement(oe,null)}}),a.a.createElement(H.b,{path:"/recover-password",render:function(){return a.a.createElement(Pe,null)}}),a.a.createElement(H.b,{path:"/registration",render:function(){return a.a.createElement(de,null)}}),a.a.createElement(H.b,{exact:!0,path:"/",render:function(){return a.a.createElement(H.a,{to:je})}}),a.a.createElement(H.b,{path:"*",render:function(){return a.a.createElement("div",null,"404 BAD GATEWAY")}}))},ye=function(){return a.a.createElement("div",{className:J.a.headerWrapper},a.a.createElement(B.b,{to:je},"LoginizationPage"),a.a.createElement(B.b,{to:"/new-password"},"NewPasswordPage"),a.a.createElement(B.b,{to:Re},"ProfilePage"),a.a.createElement(B.b,{to:"/recover-password"},"PasswordRecoveringPage"),a.a.createElement(B.b,{to:"/registration"},"RegistrationPage"))},Ce=function(){return a.a.createElement("div",{className:o.a.App},a.a.createElement(ye,null),a.a.createElement(ke,null))},_e=function(){return a.a.createElement(B.a,null,a.a.createElement(i.a,{store:z},a.a.createElement(Ce,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(_e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.af5b71cf.chunk.js.map